<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Seat Selection</title>
  <link rel="stylesheet" href="/Paruvatha_Bus_Booking_Website/sources/css/seat.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>

  <style>
    .hidden { display: none; }
    .seat-container { display: flex; gap: 20px; margin-top: 20px; }
    .deck { display: flex; flex-wrap: wrap; gap: 10px; width: 200px; }
    .seat { width: 40px; height: 40px; background: lightgray; text-align: center; line-height: 40px; cursor: pointer; }
    .seat.selected { background: green; color: white; }
    .seat.booked { background: red; color: white; cursor: not-allowed; }
    aside { position: fixed; right: 0; top: 0; background: #fff; width: 300px; height: 100%; border-left: 2px solid #ccc; padding: 20px; overflow-y: auto; display: none; }
    aside.show { display: block; }
    .passenger-entry { margin-bottom: 20px; }
    .passenger-entry input, .passenger-entry select { width: 100%; padding: 5px; margin-top: 5px; }
    #closeAside { background: none; border: none; font-size: 20px; float: right; cursor: pointer; }
  </style>
</head>
<body>
  <div class="container">
    <div class="trip-info-card">
      <h2 id="busTitle"></h2>
      <p id="route"></p>
      <p id="date"></p>
      <p id="seatInfo"></p>
    </div>
    

    <div class="seat-container">
      <div>
        <h3>Lower Deck</h3>
        <div id="lowerDeck" class="deck"></div>

        <h3 id="upperDeckTitle">Upper Deck</h3>
        <div id="upperDeck" class="deck"></div>
      </div>

      <div id="selectedSeatsContainer" class="selected-seats-card">
        <h3>ðŸª‘ Selected Seats</h3>
        <div id="selectedSeatsList" class="selected-seats-list"></div>
        <h4 class="total-amount">Total Amount: â‚¹<span id="totalAmount">0</span></h4>
        <button id="proceedToPayment" disabled>Proceed to Payment</button>
      </div>
      

    <!-- Aside Section for Passenger Details -->
<aside id="asideSection">
  <button id="closeAside">Ã—</button>
  <h3>Passenger Details</h3>
  <div id="passengerForm"></div>
  <button id="paymentBtn">Proceed to Payment</button>
</aside>

<!-- Payment Modal -->
<div id="paymentModal" class="modal">
  <div class="modal-content">
    <span class="close" id="closePaymentModal">&times;</span>
    <h3>Payment Details</h3>
    <form id="paymentForm">
      <label>Name:</label>
      <input type="text" id="userName" placeholder="Your Name" required /><br>
      <label>Phone:</label>
      <input type="tel" id="userPhone" placeholder="Phone Number" required /><br>
      <label>Email:</label>
      <input type="email" id="userEmail" placeholder="Email" required /><br>
      <label>Card Number:</label>
      <input type="text" id="cardNumber" placeholder="Credit Card Number" required /><br>
      <label>PIN:</label>
      <input type="password" id="cardPin" placeholder="PIN Number" required /><br>
      <button type="submit">Pay Now</button>
    </form>
  </div>
</div>

 
 <!-- Loader container (hidden initially) -->
<div id="loader" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999;">
  <dotlottie-player 
    src="https://lottie.host/0edd8071-d167-447d-957a-f783a26cd981/trOPW2Lk0G.lottie" 
    background="transparent" 
    speed="1" 
    style="width: 300px; height: 300px" 
    loop 
    autoplay>
  </dotlottie-player>
</div>


  <script src="/Paruvatha_Bus_Booking_Website/sources/js/seat.js" defer></script>
</body>
</html>
